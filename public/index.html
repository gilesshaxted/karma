<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karma Bot Dashboard</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <h1>Karma Bot Dashboard</h1>
        <div id="auth-section">
            <p>Please log in with Discord to manage your bot settings.</p>
            <button id="login-button">Login with Discord</button>
        </div>

        <div id="dashboard-section" style="display: none;">
            <h2>Welcome, <span id="user-display-name"></span>!</h2>
            <p>Select a guild where Karma bot is present to configure its settings.</p>

            <div class="guild-selection">
                <label for="guild-select">Select Guild:</label>
                <select id="guild-select">
                    <option value="">Loading guilds...</option>
                </select>
            </div>

            <div id="config-section" style="display: none;">
                <h3>Guild Configuration for <span id="selected-guild-name"></span></h3>
                <form id="config-form">
                    <div class="form-group">
                        <label for="mod-role-select">Moderator Role:</label>
                        <select id="mod-role-select" class="role-select">
                            <option value="">None</option>
                        </select>
                        <small>Users with this role can use moderation commands and are exempt from moderation.</small>
                    </div>

                    <div class="form-group">
                        <label for="admin-role-select">Administrator Role:</label>
                        <select id="admin-role-select" class="role-select">
                            <option value="">None</option>
                        </select>
                        <small>Users with this role can use moderation commands and are exempt from moderation (in addition to Discord's Administrator permission).</small>
                    </div>

                    <div class="form-group">
                        <label for="mod-log-channel-select">Moderation Log Channel:</label>
                        <select id="mod-log-channel-select" class="channel-select">
                            <option value="">None</option>
                        </select>
                        <small>All moderation actions will be logged here.</small>
                    </div>

                    <div class="form-group">
                        <label for="message-log-channel-select">Message Log Channel:</label>
                        <select id="message-log-channel-select" class="channel-select">
                            <option value="">None</option>
                        </select>
                        <small>Deleted and edited messages will be copied here.</small>
                    </div>

                    <div class="form-group">
                        <label for="mod-alert-channel-select">Auto-Moderation Alert Channel:</label>
                        <select id="mod-alert-channel-select" class="channel-select">
                            <option value="">None</option>
                        </select>
                        <small>Auto-moderation flags and manual flags will be sent here.</small>
                    </div>

                    <div class="form-group">
                        <label for="mod-ping-role-select">Moderator Ping Role:</label>
                        <select id="mod-ping-role-select" class="role-select">
                            <option value="">None</option>
                        </select>
                        <small>This role will be pinged in the auto-moderation alert channel.</small>
                    </div>

                    <div class="form-group">
                        <label for="member-log-channel-select">Member Log Channel:</label>
                        <select id="member-log-channel-select" class="channel-select">
                            <option value="">None</option>
                        </select>
                        <small>Logs member profile and role changes.</small>
                    </div>

                    <div class="form-group">
                        <label for="admin-log-channel-select">Admin Log Channel:</label>
                        <select id="admin-log-channel-select" class="channel-select">
                            <option value="">None</option>
                        </select>
                        <small>Logs server-wide administrative changes (channels, roles, emojis, events).</small>
                    </div>

                    <div class="form-group">
                        <label for="join-leave-log-channel-select">Join/Leave Log Channel:</label>
                        <select id="join-leave-log-channel-select" class="channel-select">
                            <option value="">None</option>
                        </select>
                        <small>Logs when members join or leave the guild.</small>
                    </div>

                    <div class="form-group">
                        <label for="boost-log-channel-select">Boost Notify Channel:</label>
                        <select id="boost-log-channel-select" class="channel-select">
                            <option value="">None</option>
                        </select>
                        <small>Announces server boosts.</small>
                    </div>

                    <div class="form-group">
                        <label for="karma-channel-select">Karma Channel:</label>
                        <select id="karma-channel-select" class="channel-select">
                            <option value="">None</option>
                        </select>
                        <small>Channel for karma announcements and new member greetings.</small>
                    </div>

                    <div class="form-group">
                        <label for="counting-channel-select">Counting Channel:</label>
                        <select id="counting-channel-select" class="channel-select">
                            <option value="">None</option>
                        </select>
                        <small>The channel for the counting game.</small>
                    </div>

                    <button type="submit" id="save-config-button">Save Configuration</button>
                    <p id="save-status" class="status-message"></p>
                </form>
            </div>
        </div>
    </div>

    <script src="/script.js"></script>
</body>
</html>
